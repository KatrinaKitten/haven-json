package com.tripl3dogdare.havenjson

import io.kotlintest.matchers.maps.shouldContainKey
import io.kotlintest.shouldBe
import io.kotlintest.specs.WordSpec
import java.io.File

class ParserTest : WordSpec() {
  init {
    "JsonValue#parse" should {
      for(file in File("./test_files/").walkTopDown().filter { it.isFile })
        "correctly parse ${file.name}" {
          results.shouldContainKey(file.name)
          Json.parse(file.readText()) shouldBe results[file.name]
        }
    }
  }

  val results = mapOf(
    "civicdata_1.json"    to Json("name" to "Baten","src" to "","hash" to "d77751d47b47b010cc72a08dff9dccc2","children" to listOf(mapOf("name" to "Bestuur en dienstverlening","src" to "","hash" to "1610fb45a9367bd09b270e27032a7daf","children" to listOf(mapOf("name" to "Algemeen Bestuur","src" to "","hash" to "f89714b880287c5b7fc530ab1634215c","children" to listOf<Json>(),"descr" to "","url" to "/node/396","values" to listOf(mapOf("val" to 474,"year" to 2013),mapOf("val" to 1081,"year" to 2014),mapOf("val" to 661,"year" to 2015),mapOf("val" to 508,"year" to 2016),mapOf("val" to 508,"year" to 2017),mapOf("val" to 508,"year" to 2018))),mapOf("name" to "Publieke dienstverlening","src" to "","hash" to "8969ff9c17d7d687c7a4c366d146a23c","children" to listOf<Json>(),"descr" to "","url" to "/node/400","values" to listOf(mapOf("val" to 2504,"year" to 2013),mapOf("val" to 2788,"year" to 2014),mapOf("val" to 2601,"year" to 2015),mapOf("val" to 2609,"year" to 2016),mapOf("val" to 2606,"year" to 2017),mapOf("val" to 2603,"year" to 2018)))),"descr" to "","url" to "/node/394","values" to listOf(mapOf("val" to 3251,"year" to 2013),mapOf("val" to 3869,"year" to 2014),mapOf("val" to 3262,"year" to 2015),mapOf("val" to 3117,"year" to 2016),mapOf("val" to 3114,"year" to 2017),mapOf("val" to 3111,"year" to 2018))),mapOf("name" to "Veiligheid en handhaving","src" to "","hash" to "2c1d096ae1051bf7a20c96f89ab7cc52","children" to listOf(mapOf("name" to "Fysieke veiligheid","src" to "","hash" to "3931929e00dfa468862a4789d93a35a5","children" to listOf<Json>(),"descr" to "","url" to "/node/60","values" to listOf(mapOf("val" to 52,"year" to 2013),mapOf("val" to 80,"year" to 2014),mapOf("val" to 0,"year" to 2015),mapOf("val" to 0,"year" to 2016),mapOf("val" to 0,"year" to 2017),mapOf("val" to 0,"year" to 2018))),mapOf("name" to "Sociale veiligheid","src" to "","hash" to "02b0a37f900c89023362418c7390b6f9","children" to listOf<Json>(),"descr" to "","url" to "/node/59","values" to listOf(mapOf("val" to 137,"year" to 2013),mapOf("val" to 177,"year" to 2014),mapOf("val" to 88,"year" to 2015),mapOf("val" to 88,"year" to 2016),mapOf("val" to 88,"year" to 2017),mapOf("val" to 88,"year" to 2018))),mapOf("name" to "Vergunningen, toezicht en handhaving","src" to "","hash" to "391721036334fcb538f3cc8483196d11","children" to listOf<Json>(),"descr" to "","url" to "/node/61","values" to listOf(mapOf("val" to 2576,"year" to 2013),mapOf("val" to 2542,"year" to 2014),mapOf("val" to 2594,"year" to 2015),mapOf("val" to 2749,"year" to 2016),mapOf("val" to 2786,"year" to 2017),mapOf("val" to 2771,"year" to 2018)))),"descr" to "","url" to "/node/3","values" to listOf(mapOf("val" to 2765,"year" to 2013),mapOf("val" to 2799,"year" to 2014),mapOf("val" to 2682,"year" to 2015),mapOf("val" to 2837,"year" to 2016),mapOf("val" to 2874,"year" to 2017),mapOf("val" to 2859,"year" to 2018))),mapOf("name" to "Stedelijk beheer en milieu","src" to "","hash" to "fd4063fce130f09f6d5a7b5745a8183a","children" to listOf(mapOf("name" to "Milieu","src" to "","hash" to "9f77a74151de148a67f2066b03af8e9f","children" to listOf<Json>(),"descr" to "","url" to "/node/63","values" to listOf(mapOf("val" to 516,"year" to 2013),mapOf("val" to 621,"year" to 2014),mapOf("val" to 216,"year" to 2015),mapOf("val" to 216,"year" to 2016),mapOf("val" to 216,"year" to 2017),mapOf("val" to 216,"year" to 2018))),mapOf("name" to "Stedelijk beheer","src" to "","hash" to "97b6e927d78c80f4de4f47d5a05943dd","children" to listOf<Json>(),"descr" to "","url" to "/node/62","values" to listOf(mapOf("val" to 6331,"year" to 2013),mapOf("val" to 6445,"year" to 2014),mapOf("val" to 5491,"year" to 2015),mapOf("val" to 5852,"year" to 2016),mapOf("val" to 5864,"year" to 2017),mapOf("val" to 5875,"year" to 2018)))),"descr" to "","url" to "/node/4","values" to listOf(mapOf("val" to 6847,"year" to 2013),mapOf("val" to 7066,"year" to 2014),mapOf("val" to 5707,"year" to 2015),mapOf("val" to 6068,"year" to 2016),mapOf("val" to 6080,"year" to 2017),mapOf("val" to 6091,"year" to 2018))),mapOf("name" to "Sociaal Domein","src" to "","hash" to "fe67741108ccd4d6386fb5bdf067037e","children" to listOf(mapOf("name" to "Basisinfrastructuur","src" to "","hash" to "effc7598eb164cd721b7ce9549bb15dd","children" to listOf<Json>(),"descr" to "","url" to "node/64","values" to listOf(mapOf("val" to 3435,"year" to 2013),mapOf("val" to 3332,"year" to 2014),mapOf("val" to 405,"year" to 2015),mapOf("val" to 405,"year" to 2016),mapOf("val" to 405,"year" to 2017),mapOf("val" to 405,"year" to 2018))),mapOf("name" to "Ambulante zorg en ondersteuning, incl. wijkteams","src" to "","hash" to "7063ca25e52718ca4d0c357809558933","children" to listOf<Json>(),"descr" to "","url" to "/node/65","values" to listOf(mapOf("val" to 208,"year" to 2013),mapOf("val" to 433,"year" to 2014),mapOf("val" to 0,"year" to 2015),mapOf("val" to 0,"year" to 2016),mapOf("val" to 0,"year" to 2017),mapOf("val" to 0,"year" to 2018))),mapOf("name" to "Specialistische zorg en ondersteuning","src" to "","hash" to "c231b458d7170e2cdc7cc9250124c011","children" to listOf<Json>(),"descr" to "","url" to "/node/66","values" to listOf(mapOf("val" to 2199,"year" to 2013),mapOf("val" to 2338,"year" to 2014),mapOf("val" to 2551,"year" to 2015),mapOf("val" to 2551,"year" to 2016),mapOf("val" to 2551,"year" to 2017),mapOf("val" to 2551,"year" to 2018))),mapOf("name" to "Werk en inkomen","src" to "","hash" to "b9f9bff4a32e1431a26d5aadf9533359","children" to listOf<Json>(),"descr" to "","url" to "/node/68","values" to listOf(mapOf("val" to 71987,"year" to 2013),mapOf("val" to 78794,"year" to 2014),mapOf("val" to 45367,"year" to 2015),mapOf("val" to 48108,"year" to 2016),mapOf("val" to 49955,"year" to 2017),mapOf("val" to 51793,"year" to 2018)))),"descr" to "","url" to "/node/93","values" to listOf(mapOf("val" to 77829,"year" to 2013),mapOf("val" to 84897,"year" to 2014),mapOf("val" to 48323,"year" to 2015),mapOf("val" to 51064,"year" to 2016),mapOf("val" to 52911,"year" to 2017),mapOf("val" to 54749,"year" to 2018))),mapOf("name" to "Onderwijs","src" to "","hash" to "90891af463a6ae7b0eb8fc5fc9354fcf","children" to listOf(mapOf("name" to "Onderwijsbeleid","src" to "","hash" to "9c941e307856a84b0b9397b81f712436","children" to listOf<Json>(),"descr" to "","url" to "/node/69","values" to listOf(mapOf("val" to 5193,"year" to 2013),mapOf("val" to 7251,"year" to 2014),mapOf("val" to 5398,"year" to 2015),mapOf("val" to 5398,"year" to 2016),mapOf("val" to 5398,"year" to 2017),mapOf("val" to 5398,"year" to 2018))),mapOf("name" to "Onderwijsvoorzieningen","src" to "","hash" to "6a5e6bbd0961690d20262ed49d514dee","children" to listOf<Json>(),"descr" to "","url" to "/node/70","values" to listOf(mapOf("val" to 135,"year" to 2013),mapOf("val" to 47,"year" to 2014),mapOf("val" to 0,"year" to 2015),mapOf("val" to 0,"year" to 2016),mapOf("val" to 0,"year" to 2017),mapOf("val" to 0,"year" to 2018)))),"descr" to "","url" to "/node/8","values" to listOf(mapOf("val" to 5328,"year" to 2013),mapOf("val" to 7298,"year" to 2014),mapOf("val" to 5398,"year" to 2015),mapOf("val" to 5398,"year" to 2016),mapOf("val" to 5398,"year" to 2017),mapOf("val" to 5398,"year" to 2018))),mapOf("name" to "Sport","src" to "","hash" to "96faa3e6c45bb5a07bcc0bcd3be37654","children" to listOf<Json>(),"descr" to "","url" to "/node/25","values" to listOf(mapOf("val" to 341,"year" to 2013),mapOf("val" to 0,"year" to 2014),mapOf("val" to 0,"year" to 2015),mapOf("val" to 0,"year" to 2016),mapOf("val" to 0,"year" to 2017),mapOf("val" to 0,"year" to 2018))),mapOf("name" to "Ruimtelijke ontwikkeling","src" to "","hash" to "ac1db057f8c2d63ecd25e7c8dfe8e9ab","children" to listOf(mapOf("name" to "Ruimtelijke ontwikkeling (incl. Groene Stad)","src" to "","hash" to "16317859876c0910553e1ff721dc89a0","children" to listOf<Json>(),"descr" to "","url" to "/node/72","values" to listOf(mapOf("val" to 128,"year" to 2013),mapOf("val" to 136,"year" to 2014),mapOf("val" to 0,"year" to 2015),mapOf("val" to 30,"year" to 2016),mapOf("val" to 30,"year" to 2017),mapOf("val" to 30,"year" to 2018))),mapOf("name" to "Grondexplotaties","src" to "","hash" to "b044e6565b82f89cb82bdc74d7e82055","children" to listOf<Json>(),"descr" to "","url" to "/node/73","values" to listOf(mapOf("val" to 61018,"year" to 2013),mapOf("val" to 36645,"year" to 2014),mapOf("val" to 34808,"year" to 2015),mapOf("val" to 43836,"year" to 2016),mapOf("val" to 31340,"year" to 2017),mapOf("val" to 29982,"year" to 2018))),mapOf("name" to "Vastgoed","src" to "","hash" to "d3d37a3b55f883e6a945768cb3b7afde","children" to listOf<Json>(),"descr" to "","url" to "/node/74","values" to listOf(mapOf("val" to 1172,"year" to 2013),mapOf("val" to 7763,"year" to 2014),mapOf("val" to 7070,"year" to 2015),mapOf("val" to 5096,"year" to 2016),mapOf("val" to 8736,"year" to 2017),mapOf("val" to 5417,"year" to 2018)))),"descr" to "","url" to "/node/26","values" to listOf(mapOf("val" to 62318,"year" to 2013),mapOf("val" to 44544,"year" to 2014),mapOf("val" to 41878,"year" to 2015),mapOf("val" to 48962,"year" to 2016),mapOf("val" to 40106,"year" to 2017),mapOf("val" to 35429,"year" to 2018))),mapOf("name" to "Wijken en wonen","src" to "","hash" to "0e702381ae4983a78aacfe6d1b3afcf7","children" to listOf(mapOf("name" to "Wijken","src" to "","hash" to "deb839f39bd543d70285a457334eb26e","children" to listOf<Json>(),"descr" to "","url" to "/node/75","values" to listOf(mapOf("val" to 42,"year" to 2013),mapOf("val" to 626,"year" to 2014),mapOf("val" to 0,"year" to 2015),mapOf("val" to 45,"year" to 2016),mapOf("val" to 45,"year" to 2017),mapOf("val" to 45,"year" to 2018))),mapOf("name" to "Wonen","src" to "","hash" to "eb6a63dbb29181e9b4dfa8df50fa840b","children" to listOf<Json>(),"descr" to "","url" to "/node/76","values" to listOf(mapOf("val" to 514,"year" to 2013),mapOf("val" to 397,"year" to 2014),mapOf("val" to 479,"year" to 2015),mapOf("val" to 479,"year" to 2016),mapOf("val" to 479,"year" to 2017),mapOf("val" to 479,"year" to 2018)))),"descr" to "","url" to "/node/27","values" to listOf(mapOf("val" to 556,"year" to 2013),mapOf("val" to 1023,"year" to 2014),mapOf("val" to 479,"year" to 2015),mapOf("val" to 524,"year" to 2016),mapOf("val" to 524,"year" to 2017),mapOf("val" to 524,"year" to 2018))),mapOf("name" to "Mobiliteit","src" to "","hash" to "524c3bd5ac2aa64333c048122e8dd873","children" to listOf<Json>(),"descr" to "","url" to "/node/402","values" to listOf(mapOf("val" to 4696,"year" to 2013),mapOf("val" to 4597,"year" to 2014),mapOf("val" to 4585,"year" to 2015),mapOf("val" to 3031,"year" to 2016),mapOf("val" to 3031,"year" to 2017),mapOf("val" to 3031,"year" to 2018))),mapOf("name" to "Economie en duurzaamheid","src" to "","hash" to "c9f5a622fb26fde542d11e5327d97031","children" to listOf(mapOf("name" to "Economie","src" to "","hash" to "3fff9c67f53b7387ef8b7e91f162bf05","children" to listOf<Json>(),"descr" to "","url" to "/node/78","values" to listOf(mapOf("val" to 999,"year" to 2013),mapOf("val" to 566,"year" to 2014),mapOf("val" to 484,"year" to 2015),mapOf("val" to 484,"year" to 2016),mapOf("val" to 484,"year" to 2017),mapOf("val" to 484,"year" to 2018)))),"descr" to "","url" to "/node/29","values" to listOf(mapOf("val" to 999,"year" to 2013),mapOf("val" to 566,"year" to 2014),mapOf("val" to 484,"year" to 2015),mapOf("val" to 484,"year" to 2016),mapOf("val" to 484,"year" to 2017),mapOf("val" to 484,"year" to 2018))),mapOf("name" to "Cultuur","src" to "","hash" to "1486fa2aa7c2444e0b41c4f9d77c6447","children" to listOf(mapOf("name" to "Archief Eemland","src" to "","hash" to "9b1540d37f221beb647bc704b95d17f4","children" to listOf<Json>(),"descr" to "","url" to "/node/80","values" to listOf(mapOf("val" to 208,"year" to 2013),mapOf("val" to 292,"year" to 2014),mapOf("val" to 272,"year" to 2015),mapOf("val" to 272,"year" to 2016),mapOf("val" to 272,"year" to 2017),mapOf("val" to 272,"year" to 2018))),mapOf("name" to "Monumentenzorg en archeologie","src" to "","hash" to "3f35adb04ccea457ed204c9772f77d97","children" to listOf<Json>(),"descr" to "","url" to "/node/81","values" to listOf(mapOf("val" to 0,"year" to 2013),mapOf("val" to 0,"year" to 2014),mapOf("val" to 0,"year" to 2015),mapOf("val" to 0,"year" to 2016),mapOf("val" to 0,"year" to 2017),mapOf("val" to 0,"year" to 2018))),mapOf("name" to "Kunst en cultuur","src" to "","hash" to "2ec778f53f04e518adf0ca5240356d94","children" to listOf<Json>(),"descr" to "","url" to "/node/82","values" to listOf(mapOf("val" to 1020,"year" to 2013),mapOf("val" to 104,"year" to 2014),mapOf("val" to 395,"year" to 2015),mapOf("val" to 395,"year" to 2016),mapOf("val" to 395,"year" to 2017),mapOf("val" to 395,"year" to 2018)))),"descr" to "","url" to "/node/30","values" to listOf(mapOf("val" to 1228,"year" to 2013),mapOf("val" to 396,"year" to 2014),mapOf("val" to 667,"year" to 2015),mapOf("val" to 667,"year" to 2016),mapOf("val" to 667,"year" to 2017),mapOf("val" to 667,"year" to 2018))),mapOf("name" to "Financiën en belastingen","src" to "","hash" to "1486fa2aa7c24bkdbkdjf4f9d77c6447","children" to listOf(mapOf("name" to "Algemene baten en lasten","src" to "","hash" to "2e435290dd59e41dc185f0b4c05fce44","children" to listOf<Json>(),"descr" to "","url" to "/node/83","values" to listOf(mapOf("val" to 7604,"year" to 2013),mapOf("val" to 3855,"year" to 2014),mapOf("val" to 2054,"year" to 2015),mapOf("val" to 3477,"year" to 2016),mapOf("val" to 3680,"year" to 2017),mapOf("val" to 3716,"year" to 2018))),mapOf("name" to "Algemene uitkering gemeentefonds","src" to "","hash" to "cf99f4c0f1b3b2ef68d4eb56e9f80908","children" to listOf<Json>(),"descr" to "","url" to "/node/84","values" to listOf(mapOf("val" to 154700,"year" to 2013),mapOf("val" to 159482,"year" to 2014),mapOf("val" to 262875,"year" to 2015),mapOf("val" to 264035,"year" to 2016),mapOf("val" to 258356,"year" to 2017),mapOf("val" to 255008,"year" to 2018))),mapOf("name" to "Belastingen en heffingen","src" to "","hash" to "a66da16290589d25e1cb532a8d539cda","children" to listOf<Json>(),"descr" to "","url" to "/node/86","values" to listOf(mapOf("val" to 56396,"year" to 2013),mapOf("val" to 60447,"year" to 2014),mapOf("val" to 61338,"year" to 2015),mapOf("val" to 68112,"year" to 2016),mapOf("val" to 68880,"year" to 2017),mapOf("val" to 72212,"year" to 2018))),mapOf("name" to "Geldleningen en beleggingen","src" to "","hash" to "102fa682a551d74249233c71a1bbfa7b","children" to listOf<Json>(),"descr" to "","url" to "/node/85","values" to listOf(mapOf("val" to 25344,"year" to 2013),mapOf("val" to 25520,"year" to 2014),mapOf("val" to 16472,"year" to 2015),mapOf("val" to 12883,"year" to 2016),mapOf("val" to 12688,"year" to 2017),mapOf("val" to 12236,"year" to 2018)))),"descr" to "","url" to "/node/47","values" to listOf(mapOf("val" to 244044,"year" to 2013),mapOf("val" to 249304,"year" to 2014),mapOf("val" to 342739,"year" to 2015),mapOf("val" to 348507,"year" to 2016),mapOf("val" to 343604,"year" to 2017),mapOf("val" to 343172,"year" to 2018)))),"descr" to "","url" to "")
  )
}
